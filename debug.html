<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            overflow: auto;
        }
    </style>
</head>
<body>
    <h1>Debug Information</h1>
    <div id="output"></div>
    
    <!-- Load Three.js and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simplex-noise@2.4.0/simplex-noise.js"></script>
    
    <!-- Load our modules -->
    <script src="src/core/entity.js"></script>
    <script src="src/core/component.js"></script>
    <script src="src/core/system.js"></script>
    <script src="src/core/time.js"></script>
    <script src="src/core/world.js"></script>
    
    <script src="src/components/position.js"></script>
    <script src="src/components/appearance.js"></script>
    <script src="src/components/physics.js"></script>
    
    <script src="src/systems/render.js"></script>
    <script src="src/systems/physics.js"></script>
    
    <!-- Building modules -->
    <script src="src/entities/buildings/house.js"></script>
    <script src="src/entities/buildings/blacksmith.js"></script>
    <script src="src/entities/buildings/market.js"></script>
    <script src="src/entities/buildings/temple.js"></script>
    
    <!-- Terrain modules -->
    <script src="src/entities/terrain/paths.js"></script>
    <script src="src/entities/terrain.js"></script>
    
    <script src="src/utils/math.js"></script>
    
    <script>
        // Debug function to output information
        function log(message) {
            const output = document.getElementById('output');
            const pre = document.createElement('pre');
            pre.textContent = message;
            output.appendChild(pre);
        }
        
        // Check if modules are loaded
        window.addEventListener('load', function() {
            log('Checking modules...');
            
            // Check core modules
            log('Entity: ' + (typeof Entity === 'function' ? 'Loaded' : 'Not loaded'));
            log('Component: ' + (typeof Component === 'function' ? 'Loaded' : 'Not loaded'));
            log('System: ' + (typeof System === 'function' ? 'Loaded' : 'Not loaded'));
            log('World: ' + (typeof World === 'function' ? 'Loaded' : 'Not loaded'));
            
            // Check building modules
            log('HouseBuilder: ' + (window.HouseBuilder ? 'Loaded' : 'Not loaded'));
            log('BlacksmithBuilder: ' + (window.BlacksmithBuilder ? 'Loaded' : 'Not loaded'));
            log('MarketBuilder: ' + (window.MarketBuilder ? 'Loaded' : 'Not loaded'));
            log('TempleBuilder: ' + (window.TempleBuilder ? 'Loaded' : 'Not loaded'));
            log('PathBuilder: ' + (window.PathBuilder ? 'Loaded' : 'Not loaded'));
            
            // Check if Terrain is loaded
            log('Terrain: ' + (typeof Terrain === 'function' ? 'Loaded' : 'Not loaded'));
            
            // Check for any errors
            if (window.errors && window.errors.length > 0) {
                log('Errors:');
                window.errors.forEach(function(error) {
                    log('- ' + error);
                });
            } else {
                log('No errors detected.');
            }
        });
        
        // Capture errors
        window.errors = [];
        window.onerror = function(message, source, lineno, colno, error) {
            window.errors.push(message + ' at ' + source + ':' + lineno + ':' + colno);
            return true;
        };
    </script>
</body>
</html>
